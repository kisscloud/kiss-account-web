(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{357:function(t,e,r){},366:function(t,e,r){(function(t,a){var n;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(o){var s="object"==typeof e&&e,i=("object"==typeof t&&t&&t.exports,"object"==typeof a&&a);i.global!==i&&i.window;var c=function(t){this.message=t};(c.prototype=new Error).name="InvalidCharacterError";var u=function(t){throw new c(t)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=/[\t\n\f\r ]/g,h={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var e,r,a,n,o=t.length%3,s="",i=-1,c=t.length-o;++i<c;)e=t.charCodeAt(i)<<16,r=t.charCodeAt(++i)<<8,a=t.charCodeAt(++i),s+=l.charAt((n=e+r+a)>>18&63)+l.charAt(n>>12&63)+l.charAt(n>>6&63)+l.charAt(63&n);return 2==o?(e=t.charCodeAt(i)<<8,r=t.charCodeAt(++i),s+=l.charAt((n=e+r)>>10)+l.charAt(n>>4&63)+l.charAt(n<<2&63)+"="):1==o&&(n=t.charCodeAt(i),s+=l.charAt(n>>2)+l.charAt(n<<4&63)+"=="),s},decode:function(t){var e=(t=String(t).replace(d,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var r,a,n=0,o="",s=-1;++s<e;)a=l.indexOf(t.charAt(s)),r=n%4?64*r+a:a,n++%4&&(o+=String.fromCharCode(255&r>>(-2*n&6)));return o},version:"0.1.0"};void 0===(n=function(){return h}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(167)(t),r(40))},367:function(t,e,r){"use strict";var a=r(357);r.n(a).a},395:function(t,e,r){"use strict";r.r(e);var a=r(33),n=r.n(a),o=r(52),s=r.n(o),i=r(111),c=r(53),u=r(366),l=r.n(u),d={data:function(){return{loading:!1,form:{clientId:"",username:"",password:""},source:"",target:""}},mounted:function(){var t=s()(n.a.mark(function t(){var e;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.form.clientId=this.$route.query.client_id,this.source=this.$route.query.source,this.target=this.$route.query.target,t.next=5,i.b();case 5:(e=t.sent).code===c.b&&(e.data.rootExist||this.$router.push({path:"/install/root"}));case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{login:function(){var t=s()(n.a.mark(function t(){var e,r=this;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=this.form.username){t.next=3;break}return this.$message({message:"用户名不能为空",type:"warning"}),t.abrupt("return");case 3:if(""!=this.form.password){t.next=6;break}return this.$message({message:"密码不能为空",type:"warning"}),t.abrupt("return");case 6:return this.loading=!0,t.next=9,i.a(this.form);case 9:(e=t.sent).code===c.b?this.source?window.location.href=this.getRedirectSource(e.data.authorizationCode):(localStorage.setItem("accessToken",e.data.accessToken),localStorage.setItem("accessTokenExpiredAt",e.data.expiredAt),this.$router.push({path:"/"})):this.$message({message:e.message,type:"warning"}),setTimeout(function(){r.loading=!1},400);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getRedirectSource:function(t){var e=l.a.decode(this.source);return"-1"!==e.indexOf("?")?e+"?authorizationCode="+t+"&target="+this.target:e+"&authorizationCode="+t+"&target="+this.target}}},h=(r(367),r(0)),f=Object(h.a)(d,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("c-app",{attrs:{id:"page-login"}},[r("c-content",[r("section",{staticClass:"sign u-m-auto"},[r("h1",{staticClass:"sign__title"},[t._v("统一账户中心")]),t._v(" "),r("p",{staticClass:"sign__text"},[t._v("KISS CLOUD")]),t._v(" "),r("div",{staticClass:"sign__body"},[r("c-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[r("c-form-field",{attrs:{label:"用户名"}},[r("c-form-input",{attrs:{type:"text"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),r("c-form-field",{attrs:{label:"密码"}},[r("c-form-input",{attrs:{type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),r("c-form-field",[r("c-level",[r("c-form-checkbox",{attrs:{slot:"left",label:"记住我"},slot:"left"}),t._v(" "),r("router-link",{attrs:{slot:"right",to:"/auth/forgot"},slot:"right"},[t._v("忘记密码？")])],1)],1),t._v(" "),r("c-button",{attrs:{type:"primary",block:""},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("登录")])],1)],1),t._v(" "),r("footer",{staticClass:"sign__footer u-text-center"},[r("p",{staticClass:"u-text-muted u-fs-12"},[t._v("LD Capital © 2017-2018. All RIGHT RESERVED.")])])])])],1)},[],!1,null,null,null);f.options.__file="login.vue";e.default=f.exports}}]);