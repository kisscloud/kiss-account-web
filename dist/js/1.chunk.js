(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{358:function(t,e,r){},367:function(t,e,r){(function(t,a){var o;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(n){var s="object"==typeof e&&e,i=("object"==typeof t&&t&&t.exports,"object"==typeof a&&a);i.global!==i&&i.window;var c=function(t){this.message=t};(c.prototype=new Error).name="InvalidCharacterError";var u=function(t){throw new c(t)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=/[\t\n\f\r ]/g,d={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var e,r,a,o,n=t.length%3,s="",i=-1,c=t.length-n;++i<c;)e=t.charCodeAt(i)<<16,r=t.charCodeAt(++i)<<8,a=t.charCodeAt(++i),s+=l.charAt((o=e+r+a)>>18&63)+l.charAt(o>>12&63)+l.charAt(o>>6&63)+l.charAt(63&o);return 2==n?(e=t.charCodeAt(i)<<8,r=t.charCodeAt(++i),s+=l.charAt((o=e+r)>>10)+l.charAt(o>>4&63)+l.charAt(o<<2&63)+"="):1==n&&(o=t.charCodeAt(i),s+=l.charAt(o>>2)+l.charAt(o<<4&63)+"=="),s},decode:function(t){var e=(t=String(t).replace(h,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var r,a,o=0,n="",s=-1;++s<e;)a=l.indexOf(t.charAt(s)),r=o%4?64*r+a:a,o++%4&&(n+=String.fromCharCode(255&r>>(-2*o&6)));return n},version:"0.1.0"};void 0===(o=function(){return d}.call(e,r,e,t))||(t.exports=o)}()}).call(this,r(168)(t),r(40))},368:function(t,e,r){"use strict";var a=r(358);r.n(a).a},396:function(t,e,r){"use strict";r.r(e);var a=r(33),o=r.n(a),n=r(52),s=r.n(n),i=r(111),c=r(53),u=r(367),l=r.n(u),h={data:function(){return{loading:!1,form:{clientId:"",username:"",password:""},source:"",target:""}},mounted:function(){var t=s()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.form.clientId=this.$route.query.client_id,this.source=this.$route.query.source,this.target=this.$route.query.target,t.next=5,i.b();case 5:(e=t.sent).code===c.b&&(e.data.rootExist||this.$router.push({path:"/install/root"}));case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{login:function(){var t=s()(o.a.mark(function t(){var e,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=this.form.username){t.next=3;break}return this.$message({message:"用户名不能为空",type:"warning"}),t.abrupt("return");case 3:if(""!=this.form.password){t.next=6;break}return this.$message({message:"密码不能为空",type:"warning"}),t.abrupt("return");case 6:return this.loading=!0,t.prev=7,t.next=10,i.a(this.form);case 10:e=t.sent,this.source?(r=this.getRedirectSource(e.data.authorizationCode),console.log(r),window.location.href=r):(localStorage.setItem("accessToken",e.data.accessToken),localStorage.setItem("accessTokenExpiredAt",e.data.expiredAt),this.$router.push({path:"/"})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),this.error(this,t.t0);case 17:this.loading=!1;case 18:case"end":return t.stop()}},t,this,[[7,14]])}));return function(){return t.apply(this,arguments)}}(),getRedirectSource:function(t){var e=l.a.decode(this.source);return"-1"!==e.indexOf("?")?e+"?authorizationCode="+t+"&target="+this.target:e+"&authorizationCode="+t+"&target="+this.target}}},d=(r(368),r(0)),f=Object(d.a)(h,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("c-app",{attrs:{id:"page-login"}},[r("c-content",[r("section",{staticClass:"sign u-m-auto"},[r("h1",{staticClass:"sign__title"},[t._v("统一账户中心")]),t._v(" "),r("p",{staticClass:"sign__text"},[t._v("KISS CLOUD")]),t._v(" "),r("div",{staticClass:"sign__body"},[r("c-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[r("c-form-field",{attrs:{label:"用户名"}},[r("c-form-input",{attrs:{type:"text"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),r("c-form-field",{attrs:{label:"密码"}},[r("c-form-input",{attrs:{type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),r("c-form-field",[r("c-level",[r("c-form-checkbox",{attrs:{slot:"left",label:"记住我"},slot:"left"}),t._v(" "),r("router-link",{attrs:{slot:"right",to:"/auth/forgot"},slot:"right"},[t._v("忘记密码？")])],1)],1),t._v(" "),r("c-button",{attrs:{type:"primary",block:""},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("登录")])],1)],1),t._v(" "),r("footer",{staticClass:"sign__footer u-text-center"},[r("p",{staticClass:"u-text-muted u-fs-12"},[t._v("LD Capital © 2017-2018. All RIGHT RESERVED.")])])])])],1)},[],!1,null,null,null);f.options.__file="login.vue";e.default=f.exports}}]);